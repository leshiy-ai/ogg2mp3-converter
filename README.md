# โก Leshiy Media Converter

ะฃะฝะธะฒะตััะฐะปัะฝัะน ะผะตะดะธะฐ-ะบะพะฝะฒะตััะตั, ัะฐะทะผะตััะฝะฝัะน ะฝะฐ [Render](https://render.com).

ะัะตะพะฑัะฐะทัะตั ะฐัะดะธะพ, ะฒะธะดะตะพ ะธ ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ัะพัะผะฐัั, ัะดะพะฑะฝัะต ะดะปั TTS, Whisper, ะฐะฒะฐัะฐัะพะฒ ะธ Telegram-ะฑะพัะพะฒ.

> ๐ **ะะฐะฑะพัะฐะตั ะฝะฐ ะฑะตัะฟะปะฐัะฝะพะผ ัะฐัะธัะต Render**
> ๐ **ะะพะดะดะตัะถะธะฒะฐะตั OGG, PCM, MP4, JPG/PNG**
> โก **ะััััะพ, ะฑะตะท GPU, ะฝะฐ ะฑะฐะทะต FFmpeg**

---

## ๐ URL ัะตัะฒะธัะฐ

[https://leshiy-media-converter.onrender.com](https://leshiy-media-converter.onrender.com)

---

## ๐ฅ ะญะฝะดะฟะพะธะฝัั API

### 1. ะัะพะฒะตัะบะฐ ะธ ะัะปะฐะดะบะฐ

| ะญะฝะดะฟะพะธะฝั | ะะตัะพะด | ะะฟะธัะฐะฝะธะต | ะััะพะด |
| :--- | :--- | :--- | :--- |
| `/` | `GET` | ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ ัะตัะฒะธัะฐ. | `Leshiy Media Converter is ready!` |
| `/debug` | `GET` | ะะฝัะพัะผะฐัะธั ะพ ะฒะตััะธะธ ะธ ะบะพะฝัะธะณััะฐัะธะธ FFmpeg (ะฒะบะปััะฐั `--enable-libopus`). | ะะพะปะฝะฐั ะธะฝัะพัะผะฐัะธั ะพ FFmpeg |

### 2. ะัะดะธะพ-ะะพะฝะฒะตััะฐัะธั

| ะญะฝะดะฟะพะธะฝั | ะะตัะพะด | ะะฟะธัะฐะฝะธะต | ะัะพะด | ะััะพะด | ะัะฟะพะปัะทะพะฒะฐะฝะธะต |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `/ogg2mp3` | `POST` | ะะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั (Telegram) โ MP3. | `audio/ogg` (OPUS) | `audio/mpeg` (22050 ะั, ะผะพะฝะพ, 64 ะบะฑะธั/ั) | ะขัะฐะฝัะบัะธะฟัะธั ัะตัะตะท Whisper. |
| `/pcm2mp3` | `POST` | ะกัััะต ะฐัะดะธะพะฑะฐะนัั (PCM) โ MP3. | `application/octet-stream` | `audio/mpeg` | ะะพะฝะฒะตััะฐัะธั ะฒัะฒะพะดะฐ TTS-ัะตัะฒะธัะพะฒ (Gemini, ElevenLabs). |
| `/video2mp3` | `POST` | ะะธะดะตะพ โ MP3 (ะะทะฒะปะตัะตะฝะธะต ะฐัะดะธะพ). | `multipart/form-data` | `audio/mpeg` (22050 ะั, 128 ะบะฑะธั/ั) | ะะทะฒะปะตัะตะฝะธะต ะฐัะดะธะพะดะพัะพะถะบะธ. |

**ะะฐัะฐะผะตััั `/pcm2mp3` (ะพะฟัะธะพะฝะฐะปัะฝะพ):** `sampleRate`, `channels`, `format` (ะฟะพ ัะผะพะปัะฐะฝะธั: `24000`, `1`, `s16le`).

### 3. ะะฑัะฐะฑะพัะบะฐ ะะทะพะฑัะฐะถะตะฝะธะน ะธ ะะธะดะตะพ

| ะญะฝะดะฟะพะธะฝั | ะะตัะพะด | ะะฟะธัะฐะฝะธะต | ะคะพัะผะฐั ะฒัะพะดะฐ | ะะฐัะฐะผะตััั | ะะณัะฐะฝะธัะตะฝะธั |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `/rotate-image` | `POST` | ะะพะฒะพัะพั ะธะทะพะฑัะฐะถะตะฝะธั. | JPG, PNG | `angle` (90, -90, 180) | |
| `/rotate-video` | `POST` | ะะพะฒะพัะพั ะฒะธะดะตะพ. | MP4 ะธ ะดั. | `angle` (90, -90, 180) | *โค 1โ2 ะผะธะฝัั* (Render Free Tier) |
| `/resize-video` | `POST` | ะะทะผะตะฝะตะฝะธะต ัะฐะทัะตัะตะฝะธั ะฒะธะดะตะพ. | MP4 ะธ ะดั. | `resolution` (240p ะดะพ 1080p) | *โค 2 ะผะธะฝัั* |
| `/video2gif` | `POST` | ะกะพะทะดะฐะฝะธะต GIF ะธะปะธ ะฒะธะดะตะพ-ััะธะบะตัะฐ ะธะท ััะฐะณะผะตะฝัะฐ ะฒะธะดะตะพ. | MP4 ะธ ะดั. | `start`, `end`, `format` (gif/mp4), `width`, `fps` | *ะคัะฐะณะผะตะฝั โค 5 ัะตะบัะฝะด.* |
| `/gif2video` | `POST` | ะัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ะฐะฝะธะผะธัะพะฒะฐะฝะฝะพะณะพ GIF โ MP4. | GIF | | |

#### ๐ธ ะญะฝะดะฟะพะธะฝั: ะกัะพะฟ-ะบะฐะดั ะธะท ะฒะธะดะตะพ (`/video2image`)

| ะะฟะธัะฐะฝะธะต | ะะฐัะฐะผะตััั | ะคะพัะผะฐั ะฒััะพะดะฐ | ะัะฟะพะปัะทะพะฒะฐะฝะธะต |
| :--- | :--- | :--- | :--- |
| ะกะพะทะดะฐะฝะธะต ััะพะฟ-ะบะฐะดัะฐ ะธะท ะฒะธะดะตะพ. | `timestamp` (HH:MM:SS.mmm), `format` (jpg/png) | JSON-ะพะฑัะตะบั ั ะฟะพะปัะผะธ `image` (Base64), `width`, `height`, `format`. | ะัะตะฒัั, ะฐะฝะฐะปะธะท ะบะฐะดัะพะฒ, ะฟะพะดะณะพัะพะฒะบะฐ ะบ I2I. |

---

## ๐ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

* **ะกัะตะดะฐ:** `node:18` (Ubuntu, ัะตัะตะท Docker).
* **FFmpeg:** ะะตััะธั 5.1.8 (ะธะท ะพัะธัะธะฐะปัะฝะพะณะพ ัะตะฟะพะทะธัะพัะธั Debian).
* **ะะพัั:** ะัะฟะพะปัะทัะตั `process.env.PORT`.
* **ะะตะทะพะฟะฐัะฝะพััั:** ะะผะตะฝะฐ ะฒัะตะผะตะฝะฝัั ัะฐะนะปะพะฒ ะณะตะฝะตัะธัััััั ัะปััะฐะนะฝะพ, ะธัะบะปััะฐะตััั `path traversal`.

### โ๏ธ ะะณัะฐะฝะธัะตะฝะธั (Render Free Tier)

| ะะตัััั | ะะธะผะธั |
| :--- | :--- |
| RAM | 512 ะะ |
| CPU | 0.1โ0.25 vCPU |
| ะขะฐะนะผะฐัั ะทะฐะฟัะพัะฐ | ~50 ัะตะบัะฝะด |
| ะะฐะทะผะตั ัะฐะนะปะฐ | ัะตะบะพะผะตะฝะดัะตััั โค 50 ะะ |

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั (curl)

```bash
# ะะพะฒะพัะพั ะธะทะพะฑัะฐะถะตะฝะธั:
curl -X POST "[https://leshiy-media-converter.onrender.com/rotate-image?angle=90](https://leshiy-media-converter.onrender.com/rotate-image?angle=90)" \
 -F "image=@photo.jpg" \
 -o rotated.jpg

# PCM โ MP3:
curl -X POST "[https://leshiy-media-converter.onrender.com/pcm2mp3?sampleRate=24000](https://leshiy-media-converter.onrender.com/pcm2mp3?sampleRate=24000)" \
 -H "Content-Type: application/octet-stream" \
 --data-binary @speech.pcm \
 -o output.mp3
  
## ๐ฆ ะะฐะฒะธัะธะผะพััะธ
> express
> multer
> ffmpeg (ัััะฐะฝะพะฒะปะตะฝ ะฒ Dockerfile)

## ๐ ะะธัะตะฝะทะธั
MIT ยฉ Leshiy (ะะณะพัะตะปััะตะฒ ะะปะตะบัะฐะฝะดั ะะฐะปะตััะตะฒะธั)
