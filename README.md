# ‚ö° Leshiy Media Converter

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ–¥–∏–∞-–∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã–π –Ω–∞ [Render](https://render.com).

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∞—É–¥–∏–æ, –≤–∏–¥–µ–æ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç—ã, —É–¥–æ–±–Ω—ã–µ –¥–ª—è TTS, Whisper, –∞–≤–∞—Ç–∞—Ä–æ–≤ –∏ Telegram-–±–æ—Ç–æ–≤.

* üöÄ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ Render**
* üîå **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç OGG, PCM, MP4, JPG/PNG**
* ‚ö° **–ë—ã—Å—Ç—Ä–æ, –±–µ–∑ GPU, –Ω–∞ –±–∞–∑–µ FFmpeg**

---

## üîó URL —Å–µ—Ä–≤–∏—Å–∞

[https://leshiy-media-converter.onrender.com](https://leshiy-media-converter.onrender.com)

---

## üì• –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –û—Ç–ª–∞–¥–∫–∞

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –í—ã—Ö–æ–¥ |
| :--- | :--- | :--- | :--- |
| `/` | `GET` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞. | `Leshiy Media Converter is ready!` |
| `/debug` | `GET` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ FFmpeg (–≤–∫–ª—é—á–∞—è `--enable-libopus`). | –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ FFmpeg |

### 2. –ê—É–¥–∏–æ-–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ö–æ–¥ | –í—ã—Ö–æ–¥ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `/ogg2mp3` | `POST` | –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Telegram) ‚Üí MP3. | `audio/ogg` (OPUS) | `audio/mpeg` (22050 –ì—Ü, –º–æ–Ω–æ, 64 –∫–±–∏—Ç/—Å) | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper. |
| `/pcm2mp3` | `POST` | –°—ã—Ä—ã–µ –∞—É–¥–∏–æ–±–∞–π—Ç—ã (PCM) ‚Üí MP3. | `application/octet-stream` | `audio/mpeg` | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ TTS-—Å–µ—Ä–≤–∏—Å–æ–≤ (Gemini, ElevenLabs). |
| `/video2mp3` | `POST` | –í–∏–¥–µ–æ ‚Üí MP3 (–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ). | `multipart/form-data` | `audio/mpeg` (22050 –ì—Ü, 128 –∫–±–∏—Ç/—Å) | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫–∏. |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `/pcm2mp3` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** `sampleRate`, `channels`, `format` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `24000`, `1`, `s16le`).

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –í–∏–¥–µ–æ

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–∞ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `/rotate-image` | `POST` | –ü–æ–≤–æ—Ä–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. | JPG, PNG | `angle` (90, -90, 180) | |
| `/rotate-video` | `POST` | –ü–æ–≤–æ—Ä–æ—Ç –≤–∏–¥–µ–æ. | MP4 –∏ –¥—Ä. | `angle` (90, -90, 180) | *‚â§ 1‚Äì2 –º–∏–Ω—É—Ç* (Render Free Tier) |
| `/resize-video` | `POST` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–∏–¥–µ–æ. | MP4 –∏ –¥—Ä. | `resolution` (240p –¥–æ 1080p) | *‚â§ 2 –º–∏–Ω—É—Ç* |
| `/video2gif` | `POST` | –°–æ–∑–¥–∞–Ω–∏–µ GIF –∏–ª–∏ –≤–∏–¥–µ–æ-—Å—Ç–∏–∫–µ—Ä–∞ –∏–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –≤–∏–¥–µ–æ. | MP4 –∏ –¥—Ä. | `start`, `end`, `format` (gif/mp4), `width`, `fps` | *–§—Ä–∞–≥–º–µ–Ω—Ç ‚â§ 5 —Å–µ–∫—É–Ω–¥.* |
| `/gif2video` | `POST` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ GIF ‚Üí MP4. | GIF | | |

#### üì∏ –≠–Ω–¥–ø–æ–∏–Ω—Ç: –°—Ç–æ–ø-–∫–∞–¥—Ä –∏–∑ –≤–∏–¥–µ–æ (`/video2image`)

| –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–∞ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–æ–ø-–∫–∞–¥—Ä–∞ –∏–∑ –≤–∏–¥–µ–æ. | `timestamp` (HH:MM:SS.mmm), `format` (jpg/png) | JSON-–æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ `image` (Base64), `width`, `height`, `format`. | –ü—Ä–µ–≤—å—é, –∞–Ω–∞–ª–∏–∑ –∫–∞–¥—Ä–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ I2I. |

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

* **–°—Ä–µ–¥–∞:** `node:18` (Ubuntu, —á–µ—Ä–µ–∑ Docker).
* **FFmpeg:** –í–µ—Ä—Å–∏—è 5.1.8 (–∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Debian).
* **–ü–æ—Ä—Ç:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `process.env.PORT`.
* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò–º–µ–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ, –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è `path traversal`.

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Render Free Tier)

| –†–µ—Å—É—Ä—Å | –õ–∏–º–∏—Ç |
| :--- | :--- |
| RAM | 512 –ú–ë |
| CPU | 0.1‚Äì0.25 vCPU |
| –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ | ~50 —Å–µ–∫—É–Ω–¥ |
| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚â§ 50 –ú–ë |

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (curl)

```bash
# –ü–æ–≤–æ—Ä–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
curl -X POST "[https://leshiy-media-converter.onrender.com/rotate-image?angle=90](https://leshiy-media-converter.onrender.com/rotate-image?angle=90)" \
 -F "image=@photo.jpg" \
 -o rotated.jpg

# PCM ‚Üí MP3:
curl -X POST "[https://leshiy-media-converter.onrender.com/pcm2mp3?sampleRate=24000](https://leshiy-media-converter.onrender.com/pcm2mp3?sampleRate=24000)" \
 -H "Content-Type: application/octet-stream" \
 --data-binary @speech.pcm \
 -o output.mp3
```
---
  
## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

* express
* multer
* ffmpeg (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Dockerfile)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT ¬© Leshiy (–û–≥–æ—Ä–µ–ª—å—Ü–µ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –í–∞–ª–µ—Ä—å–µ–≤–∏—á)
